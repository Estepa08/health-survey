import { loadQuestions } from './questions.js';
import { displayQuestion, updateQuestionCounter } from './display.js';

// ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸ÐºÐ°
export async function initQuestionnaire() {
  console.log('ðŸš€ Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸ÐºÐ°...');
  
  const questions = await loadQuestions();
  
  if (questions.length === 0) {
    console.error('ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹');
    return;
  }

  console.log(`âœ… Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¾ ${questions.length} Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²`);
  
  // ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑÑ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²
  updateQuestionCounter(1, questions.length);
  
  // ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÐ¼ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ
  if (questions.length > 0) {
    displayQuestion(questions[0]);
  }
}